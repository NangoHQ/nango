---
title: 'Implement an event handler'
sidebarTitle: 'Implement an event handler'
description: 'Guide on how to implement a lifecycle event handler in Nango'
---

## What are lifecycle events?

Lifecycle events let you customize Nango's behavior at different points in a [Connection](/guides/primitives/auth#what-is-a-connection%3F)'s lifecycle.

When certain things happen for a Connection, Nango triggers an event. You can register an event handler [Function](/guides/primitives/functions) for a specific event and integration.

**Example:** You register a `post-connection-creation` event handler on your Salesforce integration. Nango will call this function once for each Salesforce connection, immediately after it has been created.

All lifecycle event executions are logged in Nango's [logs](/guides/platform/observability).

## Supported lifecycle events

| Event | Description |
|-------|-------------|
| `validate-connection` | Occurs when a connection is being created. Allows custom validation of credentials. Rejects and deletes the connection if validation fails. |
| `post-connection-creation` | Occurs immediately after a connection has been created. |
| `pre-connection-deletion` | Occurs before a connection is deleted. |

See the [lifecycle events reference](/reference/integration-configuration#on-events-fields) for details.

## Common use cases

- **Credential validation**: Integration-specific validation logic for API keys (e.g., check permissions to access a specific endpoint)
- **Webhook registration**: Register webhook subscriptions after a connection has been created
- **Account configuration**: Fetch account configuration information from the external API
- **Cleanup on deletion**: Deregister webhook subscriptions or revoke access tokens when a connection is deleted

## How to implement an event handler

### Step 1 - Initial Functions setup

If you don't have a `nango-integrations` folder yet, follow the [initial Functions setup guide](/implementation-guides/platform/functions/functions-setup) first.

### Step 2 - Create your event function file

Create a new file in your integration's `on-events` folder:

```
nango-integrations/
├── .nango
├── .env
├── index.ts
├── package.json
└── salesforce/
    └── on-events/
        └── setup.ts
```

<Note>
The integration folder name (e.g., `salesforce`) must match an integration ID in your Nango dashboard.
</Note>

Paste the following scaffold into the file:

```typescript setup.ts
import { createOnEvent } from 'nango';

export default createOnEvent({
    description: "<description of your event handler>",
    event: 'post-connection-creation', // or 'pre-connection-deletion' or 'validate-connection'
    exec: async (nango) => {
        // Your integration code goes here.
    }
});
```

Import your new event file in your `index.ts` file:

```typescript index.ts
import './salesforce/on-events/setup';
```

### Step 3 - Implement the event function

Implement your handler logic in the `exec` function. The function kicks off when the associated event occurs.

Helpful resources:
- [`nango` object reference](/reference/functions) for SDK methods available in event functions
- [Reference implementations repo](https://www.nango.dev/templates) for examples (search for `onEvent(`)
- [Leveraging AI agents guide](/implementation-guides/platform/functions/leverage-ai-agents) to build with Claude Code, Cursor & other AI agents

### Step 4 - Deploy your integrations

Deploy your event function to an environment in your Nango account:

```bash
nango deploy dev
```

<Tip>
**Questions, problems, feedback?** Please reach out in the [Slack community](https://nango.dev/slack).
</Tip>
